<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ujian Online</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="container mt-5">
    <!-- Form Login Key -->
    <div id="login-key-form" class="mb-4 text-center">
        <h2>Ujian Sekolah</h2>
        <label for="login-key">Masukkan Key Ujian:</label>
        <input type="text" id="login-key" class="form-control mb-3" placeholder="Key Ujian" required>
        <button class="btn btn-primary" onclick="startExam()">Mulai Ujian</button>
    </div>

    <!-- Form Biodata -->
    <div id="biodata-form" class="mb-4 text-center" style="display: none;">
        <h3>Input Biodata</h3>
        <form id="biodata">
            <label for="name">Nama:</label>
            <input type="text" id="name" class="form-control mb-3" required>
            <label for="class">Kelas:</label>
            <input type="text" id="class" class="form-control mb-3" required>
            <label for="participant-id">Nomor Peserta:</label>
            <input type="text" id="participant-id" class="form-control mb-3" required>
            <button type="submit" class="btn btn-primary">Lanjutkan Ujian</button>
        </form>
    </div>

    <!-- Ujian -->
    <div id="exam-container" class="container my-5" style="display: none;">
        <h2>Ujian Online</h2>
        <h3 id="subject-title"></h3> <!-- Judul Mata Pelajaran -->
        <form id="exam-form"></form>
        <div id="timer" class="my-3">Waktu Tersisa: 05:00</div>
        <button type="button" class="btn btn-success" onclick="finishExam()">Selesai</button>
    </div>

    <!-- Hasil Ujian -->
    <div id="result-container" class="text-center" style="display: none;">
        <h3>Hasil Ujian</h3>
        <p id="result-text"></p>
        <button class="btn btn-secondary" onclick="reloadPage()">Muat Ulang</button>
    </div>

    <!-- Toast Notification -->
    <div id="toast-container" class="position-fixed bottom-0 end-0 p-3">
        <div id="exam-toast" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="true" data-bs-delay="5000">
            <div class="toast-header">
                <strong class="me-auto">Notification</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                Hasil ujian telah dihitung. Cek nilai di bawah.
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script src="script.js"></script>
<script src="webhook.js"></script>
</body>
</html>